<script type="application/javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Define the specific ID of the element you want to convert
    const targetId = 'markdown2html';

    // 1. Get the single element by its ID
    const element = document.getElementById(targetId);

    // 2. Check if the element exists on the page
    if (element) {
        let rawMarkdown;

        // Determine how to extract the raw markdown content
        if (element.tagName === 'TEXTAREA' || element.tagName === 'INPUT') {
            // For form elements, use the .value property
            rawMarkdown = element.value;
        } else {
            // For standard elements, use the .textContent property
            rawMarkdown = element.textContent;
        }

        // Check if there is content to process
        if (rawMarkdown && rawMarkdown.trim() !== '') {
            try {
                // 3. Use marked.js to convert the Markdown to HTML.
                const renderedHtml = marked.parse(rawMarkdown);

                // 4. Replace the element's content with the rendered HTML.
                element.innerHTML = renderedHtml;

            } catch (error) {
                console.error(`Error converting markdown for ID: ${targetId}`, error);
                // Optional: show an error message
                element.innerHTML = "Error rendering content.";
            }
        }
    } else {
        console.warn(`Markdown target element with ID '${targetId}' not found.`);
    }
});
</script>
